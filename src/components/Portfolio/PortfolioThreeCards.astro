---
/**
 * * This is a simplified Portfolio section with 3 vertical cards
 * All cards have consistent image sizes and vertical layout
 */

import Button from "@components/Button/Button.astro";
import PortfolioCard from "@components/PortfolioCard/PortfolioCard.astro";
import { getCollection } from "astro:content";

const portfolios = await getCollection("portfolios");

const sortedPortfolios = portfolios.sort((a, b) => {
	if (a.data.order < b.data.order) return -1;
	if (a.data.order > b.data.order) return 1;
	return 0;
});

const firstThreePortfolios = sortedPortfolios.slice(0, 3);
---

<section id="portfolio" class="site-container mt-12 scroll-mt-10 py-8 md:py-12">
	<div class="mx-auto max-w-6xl text-center">
		<h2 class="h2 text-pretty uppercase">
			THEMED TRAVEL ROUTES BEYOND THE SCENERY. <br />
			主题路线游
		</h2>
	</div>

	<div class="grid gap-10 pt-10 md:grid-cols-3">
		{firstThreePortfolios.map((portfolio) => (
			<PortfolioCard portfolio={portfolio} direction="vertical" noTransitions />
		))}
	</div>

	<div class="mt-12 flex justify-center">
		<Button href="/portfolio" variant="outline">View all themes</Button>
	</div>
</section>